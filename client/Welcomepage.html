<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Welcome • BloodLink</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    .hero{background:linear-gradient(135deg,#ff4d4d,#b30000);color:#fff;padding:6rem 1rem;}
    .btn-pill{border-radius:999px;padding:.75rem 1.25rem;box-shadow:0 10px 24px rgba(0,0,0,.15);}
    .brand{font-weight:800;letter-spacing:.5px}
  </style>
</head>
<body>
  <nav class="navbar navbar-dark bg-dark">
    <div class="container">
      <span class="navbar-brand brand">BloodLink</span>
      <div class="d-flex gap-2">
        <a id="navLogin" class="btn btn-outline-light btn-sm" href="/login">Login</a>
        <a id="navRegister" class="btn btn-danger btn-sm" href="/register">Register</a>
        <a id="navProfile" class="btn btn-success btn-sm d-none" href="/profile">Go to Profile</a>
        <button id="logoutBtn" class="btn btn-outline-warning btn-sm d-none">Logout</button>
      </div>
    </div>
  </nav>

  <section class="hero text-center">
    <div class="container">
      <h1 class="display-5 fw-bold">Welcome to BloodLink</h1>
      <p class="lead mt-3">You’re logged in. Head to your profile to search donors or update details.</p>
      <div class="mt-4 d-flex justify-content-center gap-3">
        <a id="ctaProfile" class="btn btn-light btn-pill d-none" href="/profile">Go to Profile</a>
        <a id="ctaLogin" class="btn btn-outline-light btn-pill" href="/login">Login</a>
        <a id="ctaRegister" class="btn btn-outline-light btn-pill" href="/register">Register</a>
      </div>
    </div>
  </section>

  <script>
    const userId = localStorage.getItem("userId");
    const showAuthed = !!userId;
    const el = id => document.getElementById(id);

    if (showAuthed) {
      el("navProfile").classList.remove("d-none");
      el("logoutBtn").classList.remove("d-none");
      el("ctaProfile").classList.remove("d-none");
      el("ctaLogin").classList.add("d-none");
      el("ctaRegister").classList.add("d-none");
      el("navLogin").classList.add("d-none");
      el("navRegister").classList.add("d-none");
    }

    el("logoutBtn").addEventListener("click", () => {
      localStorage.removeItem("userId");
      location.reload();
    });
  </script>
</body>
</html>
